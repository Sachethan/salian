<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sachethan Salian</title>
 
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  
  <style>
     #notificationBox {
      display: none;
      border: 2px solid #4CAF50;
      padding: 15px;
      background: #f1f1f1;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <header>
    <nav class="container nav-container">
      <h1 class="logo">
  <img src="https://sachethan.github.io/salian/logo.png" alt="Gallery of Salian" style="height: 40px;">
</h1>
      <ul class="nav-links" id="navLinks">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#youtube">Portfolio</a></li>
        <li><a href="#contact">Contact</a></li>
        </ul>
      <div class="nav-actions">              
        <button id="profileButton" title="Profile Page"
             style="display:none;" class="lbtn px-4 py-2 bg-white border rounded-md shadow-sm hover:bg-gray-100 focus:outline-none"><i class="fa-solid fa-circle-user"></i>
      </button>
        
        <!-- Dropdown -->
    <div id="profileDropdown">
        <div class="dropdown-item dropdown-header">ðŸ‘‹ Hello, <span id="userPname"></span></div>
        <a href="./editprofile.html" class="dropdown-item">Edit Profile</a>
        <button id="logoutButton">Logout</button>
      </div>
        
        
        <button id="themeToggle" title="Toggle Dark Mode">ðŸŒ™</button>
        <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
      </div>
    </nav>
  </header>
  <div class="loader" id="loader">
   <div class="spinner"></div>
  </div>
  
  <div id="super-popup">
    <div class="dloader"></div>
    <div>Preparing your download...</div>
  </div>
<!-- Overlay + Popup -->
<div id="popupOverlay" class="overlay">
  <div class="popup-box">
    <p>âœ… Request message updated.<br>Feel free to edit it if needed.</p>
    <button onclick="closePopup()">OK</button>
  </div>
</div>
  
  <section id="home" class="hero">
    <div class="container">
      <h2>Hello <span id="userdisplay">....</span>, Im Sachethan</h2>
      <p> | Digital Creator | </p>
      <button onclick="window.location.href = '#footer';" class="btn">Lets Go<i class="fa-solid fa-wind"></i></button>
      <button id="download-app" onclick="window.location.href = 'https://www.dropbox.com/scl/fi/qe0t7iwtd4aq7uz84khod/Sachethan-Salian.apk?rlkey=7mndyfbtwp09tucfgi6gp74tu&st=ipkcm6hv&dl=1';" download="SachethanApp.apk" class="btn">Download <i class="fa-brands fa-android"></i></button>
      <button class="btn" onclick="window.location.href='login/login.html';" id="loginpage" title="login page">Login <i class="fa-solid fa-right-to-bracket"></i></button>
    </div>
  </section>
  
   <section id="services" class="section container">
    <h2>Contact Me For</h2>
    <div class="grid">
      <a href="#contact" class="service-card" data-service="ðŸ“· Photo Editing"><div class="card">ðŸ“· Photo Editing</div>
</a>
      <a href="#contact" class="service-card" data-service="ðŸŽ¨ Poster Design"><div class="card">ðŸŽ¨ Poster Design</div>
</a>
      <a href="#contact" class="service-card" data-service="ðŸ§© Logo Design"><div class="card">ðŸ§© Logo Design</div>
</a>
      <a href="#contact" class="service-card" data-service="ðŸŽ¬ Video Editing"><div class="card">ðŸŽ¬ Video Editing</div>
</a>
      <a href="#contact" class="service-card" data-service="ðŸ“± Social Media Creatives"><div class="card">ðŸ“± Social Media Creatives</div>
</a>
      <a href="#contact" class="service-card" data-service="âœ¨ Web Design (Ai Code)"><div class="card">âœ¨ Web Design (Ai Code)</div>
</a>
    </div>
        </section>

<section id="youtube" class="section container moregap">
    <h2>Youtube Channel</h2>
        
<!-- Elfsight YouTube Gallery | Untitled YouTube Gallery -->
<script src="https://static.elfsight.com/platform/platform.js" async></script>
<div class="elfsight-app-9c8a0458-04a9-4e4a-a944-0385bbc9f7ff" data-elfsight-app-lazy></div>
      </section>
        
<section id="insta" class="section container moregap">
    <h2>Instagram</h2>
<!-- Elfsight Instagram Feed | Untitled Instagram Feed -->
<script src="https://static.elfsight.com/platform/platform.js" async></script>
<div class="elfsight-app-909f0c5d-fb2d-49ce-9fbd-92f210d7c01c" data-elfsight-app-lazy></div>
      </section>
    
        
  <section style="display:none;"id="portfolio" class="section container">
    <h2>Portfolio</h2>
    <div class="grid_2">
     <div class="portfolio-item">
  <img id="sample1-img" alt="Logo Design Sample 1" />
  <p>Logo Design</p>
</div>

<div class="portfolio-item">
  <img id="sample2-img" alt="Poster Design Sample 2" />
  <p>Poster Design</p>
</div>

<div class="portfolio-item">
  <img id="sample3-img" alt="Invitation Design Sample 3" />
  <p>Invitation Design</p>
</div>
      <div class="portfolio-item">
  <img id="sample4-img" alt="Invitation Design Sample 3" />
  <p>Invitation Design</p>
</div>
  </section>

 <section id="about" class="section container">
    <h2>About Me</h2>
    <p>I am a creative freelancer offering services in photo editing, poster design, logo making, video editing, and more. I turn ideas into visuals that connect with your audience.</p>
  </section>
<section id="notify" class="section container">
    <div id="notificationBox">
    <h3>New Notification</h3>
    <p><strong>Title:</strong> <span id="notifTitle"></span></p>
    <p><strong>Message:</strong> <span id="notifMessage"></span></p>
  </div>
</section>

  <section class="contact" id="contact">
  <h2>Contact Details</h2>
  <div class="contact-container">
    <div class="contact-info">
      <p>I'd love to hear from you! Whether it's a project, question, or just to say hello â€” feel free to get in touch.</p>
      <div class="info-box">
        <i class="fa-solid fa-envelope"></i>
        <a href="mailto:sachethansalian@gmail.com">sachethansalian@gmail.com</a>
      </div>
      <div class="info-box">
        <i class="fa-brands fa-instagram"></i>
        <a href="https://instagram.com/sachethan_salian_creation" target="_blank">@sachethan_salian_creation</a>
      </div>
      </div>

    <form class="contact-form" id="contactForm">
  <input type="text" id="name" name="name" placeholder="Your Name"/>
  <input type="email" id="email" name="email" placeholder="Your Email"/>
  <textarea id="requestInput" name="message" rows="5" placeholder="Your Message" required></textarea>
  <button type="submit">Send Request Message</button>
  <p id="formResponse" style="margin-top:10px;"></p>
</form>
  </div>
</section>

  <footer id="footer" class="footer">
    <p>Â© 2025 Sachethan salian. All rights reserved.</p>
  </footer>

  <script src="https://sachethan.github.io/salian/script.js"></script>
  <script src="mail.js"></script>
  <script src="https://sachethan.github.io/salian/image.js"></script>
<script>

const nameInput = document.getElementById("name");
  const emailInput = document.getElementById("email");
  const userEmail = localStorage.getItem("email");
const tempname = localStorage.getItem("tempname");
const tempemail = localStorage.getItem("tempemail");
const profileDropdown = document.getElementById("profileDropdown"); // or your actual ID

if (!localStorage.getItem('isLoggedIn')) {
  // Enable input fields and make them required
  nameInput.disabled = false;
  emailInput.disabled = false;
  nameInput.required = true;
  emailInput.required = true;

  // Set values from temporary variables (make sure they exist)
  document.querySelector("input[name='name']").value = tempname || '';
  document.querySelector("input[name='email']").value = tempemail || '';
  document.getElementById("userdisplay").textContent = tempname || '';
  
} else {
  // Show profile button, hide login
  document.getElementById("profileButton").style.display = "inline-block";
  document.getElementById("loginpage").style.display = "none";

  // Disable fields and remove requirement
  nameInput.disabled = true;
  emailInput.disabled = true;
  nameInput.required = false;
  emailInput.required = false;
  
  // Show dropdown if user data exists
  if (localStorage.getItem('usergd')) {
    profileDropdown.style.display = 'block';
  }
}

    function isWebView() {
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      return (
        (ua.includes("wv")) || // Android WebView
        (ua.includes("Android") && ua.includes("Version/")) || // Old Android WebView
        (window.navigator.standalone === true) // iOS standalone mode
      );
    }

    // Hide download banner if opened in app
    if (isWebView()) {
      document.getElementById("download-app").style.display = "none";
    }

const params = new URLSearchParams(window.location.search);
    const title = params.get("title");
    const msg = params.get("msg");

    if (title && msg) {
      document.getElementById("notifTitle").textContent = title;
      document.getElementById("notifMessage").textContent = msg;
      document.getElementById("notificationBox").style.display = "block";
    }

function logout(){
  localStorage.removeItem('isLoggedIn');
  localStorage.removeItem('userEmail');
  localStorage.removeItem('username');
  localStorage.removeItem('tempname');
  localStorage.removeItem('tempemail');
window.location.href = 'index.html';

}

  </script> 

 <script>
    document.getElementById("download-app").addEventListener("click", function (e) {
      // Show popup
      const popup = document.getElementById("super-popup");
      popup.style.display = "flex";

      // Start download
      setTimeout(() => {
        window.location.href = 'https://www.dropbox.com/scl/fi/qe0t7iwtd4aq7uz84khod/Sachethan-Salian.apk?rlkey=7mndyfbtwp09tucfgi6gp74tu&st=ipkcm6hv&dl=1';
      }, 800); // slight delay to ensure popup is visible

      // Auto-hide popup after 7 seconds
      setTimeout(() => {
        popup.style.display = "none";
      }, 7000);
    });
  </script>

  <script>

  const API_URL = "https://script.google.com/macros/s/AKfycbxU183NSwMKZhKHnvdhBDhKOEsncfRxUdeVCD1CEdfkwjq2LEH-fMCzUbmiEW772ZaC/exec"; // <-- Replace with your Web App URL if different

const email = localStorage.getItem("userEmail");
window.onload = async function () {
     if (!email) {
        window.location.href = "#";
        return;
    }

    try {
        const response = await fetch(API_URL);
        const data = await response.json();

        const clientData = data.find(row => row[1] === email);

        if (clientData) {
            document.getElementById("userdisplay").textContent = clientData[0];
            const userole = clientData[3];
            const usename = clientData[0];
            localStorage.setItem("role", userole);
            localStorage.setItem("username", usename);
          document.querySelector("input[name='name']").value = usename;
    document.getElementById("userdisplay").textContent = usename;
    document.getElementById("userPname").textContent = usename;
 
            } else {
            alert("User not found!");
        }
    } catch (error) {
        console.error("Error fetching data:", error);
        showPopupMessage("Failed to load. Please login again.");
        window.location.href = "index.html";
    } finally {
        // Hide the loading indicator and clear the timeout when done
    }
};

  </script>

<script>
    const profileBtn = document.getElementById('profileButton');
    const dropdown = document.getElementById('profileDropdown');

    profileBtn.addEventListener('click', () => {
      dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
    });

    document.addEventListener('click', (e) => {
      if (!profileBtn.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.style.display = 'none';
        localStorage.removeItem('usergd');
      }
    });

    document.getElementById('logoutButton').addEventListener('click', () => {
  const confirmLogout = confirm("Are you sure you want to log out?");
  if (confirmLogout) {
    logout();
  }
});


   </script>
     
  </body>
</html>
